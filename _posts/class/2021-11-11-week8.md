---
layout: post
title: Unix week 8 Signal
subtitle: 'python,데이터 사이언티스트, 인공지능 개발자를 위함'
categories: etc
tags: etc
comments: true
published: true
---
## 개요
Signal에 대해 알아보기

- 목차
   - Signal의 개념
   - Signal의 종류
   
 

## Signal의 개념
---
시그널 
- 소프트웨어 인터럽트 프로세스에 뭔가 발생했음을 알리는 간단한 메시지를 비동기적으로 보내는 것

발생 이유
- kill함수처럼 시그널을 보낼 수 있는 함수를 사용하여 다른 프로세스에 시그널을 보내는 경우
- 사용자가 Ctrl + C와 같이 인터럽트 키를 입력한 경우

시그널 처리방법
- 각 시그널에 지정된 기본 동작 수행. 대부분의 기본 동작은 프로세스 종료
- 시그널 무시
- 시그널 처리 함수를 지정해놓고 시그널을 받으면 해당 함수를 호출
- 시그널이 발생하지 않도록 블록처리
***

## Signal의 종류
---
|시그널   | 번호                        | 기본 처리              | 발생 요건          |
|:--- | ---: |:--- | :---: |  
| SIGHUP             | 1            | 종료 | 행업으로 터미널과 연결이 끊어졌을 때 발생 |
| SIGINT             | 2            | 종료 | 인터럽트로 사용자가 Ctrl + c 를 입력하면 발생 |
| SIGQUIT             | 3            | 코어 덤프 | 종료 신호로 사용자가 Ctrl + \ 를 입력하면 발생 |
| SIGGLL             | 4            | 코어 덤프 | 잘못된 명령 사용 |
| SIGTRAP             | 5            | 코어 덤프 | 추적(trace)나 중단점(breakpoint)에서 트랩 발생 |
| SIGABRT             | 6            | 코어 덤프 | abort 함수에 의해 발생 |
| SIGEMT             | 7            | 코어 덤프 | 에뮬레이터 트랩으로 하드웨어에 문제가 있을 경우 발생 |
| SIGFPE             | 8            | 코어 덤프 | 산술 연산 오류로 발생 |
| SIGKILL             | 9            | 종료 | 강제 종료로 발생 |
| SIGBUS             | 10            | 코어 덤프 | 버스 오류로 발생 |
| SIGSEGV             | 11            | 코어 덤프 | 세그멘테이션 폴트로 발생 |
| SIGSYS             | 12            | 코어 덤프 | 잘못된 시스템 호출로 발생 |
| SIGPIPE             | 13            | 종료 | 잘못된 파이프 처리로 발생 |
| SIGALRM             | 14            | 종료 | 알람에 의해 발생 |
| SIGTERM             | 15            | 종료 | 소프트웨어적 종료로 발생 |
| SIGUSR1             | 16            | 종료 | 사용자 정의 시그널 1 |

***


## kill 함수 사용하기(test6.c)
---
```c
#include <stdio.h>
#include <signal.h>

int main(void)
{
        printf("Before SIGCONT Signal to parent.\n");

        kill(getppid(), SIGCONT);

        printf("Before SIGQUIT Signal to me.\n");

        kill(getpid(), SIGQUIT);

        printf("After SIGQUIT Signal.\n");

        return 0;
}

```
[실행 결과]  
Before SIGCONT Signal to parent.  
Before SIGQUIT Signal to me.  
종료 (core dumped)  
***

## signal 함수 사용하기(test7.c)
---
```c
#include <stdio.h>
#include <signal.h>

int main(void)
{
        printf("Before SIGCONT Signal to parent.\n");

        kill(getppid(), SIGCONT);

        printf("Before SIGQUIT Signal to me.\n");

        kill(getpid(), SIGQUIT);

        printf("After SIGQUIT Signal.\n");

        return 0;
}

```
[예상 결과]  


[실행 결과]  
^CSignal Handler Signal Number: 2
Received Signal: Interrupt
After 1st Signal Handler
Wait 2nd Ctrl + C... : SIGINT
^CSignal Handler Signal Number: 2
Received Signal: Interrupt
After 2nd Signal Handler
***
